

<div class="modal-overlay" (click)="closeModal()">

  
  <div class="modal-glass" [ngStyle]="{'--accent-color': project.folderColor}">



    <div class="modal-container" (click)="$event.stopPropagation()">




      <div class="project-sheet">
        <!-- Botón cerrar -->
        <button class="close-button" (click)="closeModal()">×</button>



      <!-- Encabezado -->
      <div class="header">
        <h2 class="main-title">{{ project.name }}</h2>
        <div class="project-tags">
          <span *ngFor="let tag of project.type" class="tag">{{ tag }}</span>

        </div>

                        
      </div>

      <!-- Sketch principal / flujo -->
      <div class="main-content">
        
          <div class="sketch" *ngIf="project.details?.flujoImage">
          <img [src]="project.details.flujoImage" alt="Flujo de usuario sketch" />
          <figcaption>Observación del flujo de usuario</figcaption>
                          <!-- Herramientas usadas -->
                          <div class="tools" *ngIf="project.details?.herramientas?.length">
                
                            <div class="tools-container">
                              <img *ngFor="let tool of project.details.herramientas" 
                                   [src]="toolPaths[tool]" 
                                   alt="{{ tool }}" 
                                   class="tool-icon" />
                            </div>
                          </div>
        </div>

        <!-- Notas tipo manuscrito -->
        <div class="detail-section-notas">
          <h3>Notas del estudio</h3>
          <ul>
            <li *ngFor="let note of project.notes">{{ note }}</li>
          </ul>
        </div>


<!-- Carrusel compacto con imágenes desde extraImages -->
<div class="carousel-container" *ngIf="project.details.extraImages?.length">
  <button class="carousel-btn left" (click)="prevImage()">‹</button>

  <div class="carousel-track" [style.transform]="'translateX(-' + currentImageIndex * 100 + '%)'">
    <div class="carousel-card" *ngFor="let img of project.details.extraImages">
      <img [src]="img" alt="Imagen del proyecto" />
    </div>
  </div>

  <button class="carousel-btn right" (click)="nextImage()">›</button>

  <div class="carousel-indicators">
    <span 
      *ngFor="let img of project.details.extraImages; let i = index" 
      [class.active]="i === currentImageIndex"
    ></span>
  </div>
</div>









      </div>







      <!-- Detalles del proyecto -->
      <div class="details">
        <div class="detail-section">
          <h3>Responsabilidades</h3>
          <ul>
            <li *ngFor="let r of project.details.responsabilidades">{{ r }}</li>
          </ul>
        </div>

        <div class="detail-section">
          <h3>Entregables</h3>
          <ul>
            <li *ngFor="let e of project.details.principales_entregables">{{ e }}</li>
          </ul>
        </div>

        <div class="detail-section">
          <h3>Impacto</h3>
          <ul>
            <li *ngFor="let i of project.details.impacto_resultados">{{ i }}</li>
          </ul>
        </div>

        <!-- Enlace al prototipo -->
<div class="prototype-link" *ngIf="project.details?.prototipo && project.details?.prototipoUrl">
  <a [href]="project.details.prototipoUrl" target="_blank" rel="noopener noreferrer" class="prototype-icon-link">
    <img src="assets/app-window-expand--Streamline-Freehand.svg" alt="Enlace a prototipo" class="icon">
  </a>
</div>

      </div>




    </div>
  </div>
</div>